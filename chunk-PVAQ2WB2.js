import{a as Q,b as Y}from"./chunk-YT5JGGFD.js";import{C as w,Ca as X,Ea as z,F as D,Ga as J,H as N,Ha as K,J as A,P as c,Q as T,R as _,S as R,T as V,U as M,V as F,W as B,_ as O,aa as L,ba as j,fa as k,h as u,ha as H,i as p,ia as q,j as b,k as E,l as f,m as n,ma as G,n as i,o as s,q as U,ra as P,w as l,wa as $,x as C,xa as W,y as g}from"./chunk-DFIW5OGI.js";import"./chunk-4C747BK3.js";import"./chunk-7KGURMOZ.js";import"./chunk-COTEFVJM.js";import"./chunk-N36FF4D7.js";import"./chunk-TAHSMARZ.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as v}from"./chunk-B7O3QC5Z.js";var r=[];for(let t=0;t<256;++t)r.push((t+256).toString(16).slice(1));function Z(t,e=0){return(r[t[e+0]]+r[t[e+1]]+r[t[e+2]]+r[t[e+3]]+"-"+r[t[e+4]]+r[t[e+5]]+"-"+r[t[e+6]]+r[t[e+7]]+"-"+r[t[e+8]]+r[t[e+9]]+"-"+r[t[e+10]]+r[t[e+11]]+r[t[e+12]]+r[t[e+13]]+r[t[e+14]]+r[t[e+15]]).toLowerCase()}var y,tt=new Uint8Array(16);function h(){if(!y){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");y=crypto.getRandomValues.bind(crypto)}return y(tt)}var et=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),x={randomUUID:et};function it(t,e,m){t=t||{};let o=t.random??t.rng?.()??h();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){if(m=m||0,m<0||m+16>e.length)throw new RangeError(`UUID byte range ${m}:${m+15} is out of buffer bounds`);for(let a=0;a<16;++a)e[m+a]=o[a];return e}return Z(o)}function ot(t,e,m){return x.randomUUID&&!e&&!t?x.randomUUID():it(t,e,m)}var S=ot;function nt(t,e){if(t&1&&(n(0,"ion-select-option",17),l(1),i()),t&2){let m=e.$implicit;f("value",m.value),u(),g(" ",m.label," ")}}var Ut=(()=>{let e=class e{constructor(o,a,d,I){this.fb=o,this.service=a,this.route=d,this.router=I,this.sports=Q,this.isEdit=!1,this.form=this.fb.nonNullable.group({sport:["running",c.required],duration:[0,c.required],date:[new Date().toISOString(),c.required],location:[""],intensity:["moderate",c.required],notes:[""]})}ionViewWillEnter(){let o=this.route.snapshot.paramMap.get("id");if(o){this.isEdit=!0,this.activityId=o;let a=this.service.getById(o);a&&this.form.patchValue(a)}}submit(){if(this.form.invalid)return;let o=this.form.getRawValue();this.isEdit?this.service.update(v({id:this.activityId,favorite:!1},o)):this.service.add(v({id:S(),favorite:!1},o)),this.router.navigateByUrl("/tabs/activities")}};e.\u0275fac=function(a){return new(a||e)(p(F),p(Y),p(N),p(A))},e.\u0275cmp=b({type:e,selectors:[["app-add-activity"]],decls:43,vars:4,consts:[["slot","start"],["defaultHref","/tabs/activities"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","sport"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","duration"],["datetime","activityDate","trigger","datetime-modal"],["id","datetime-modal","keep-contents-mounted","true"],["id","activityDate","formControlName","date","presentation","date-time","locale","en-US","hour-cycle","h12","show-default-buttons","true"],["formControlName","location"],["formControlName","intensity"],["value","low"],["value","moderate"],["value","high"],["formControlName","notes"],["expand","block","type","submit"],[3,"value"]],template:function(a,d){a&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s(3,"ion-back-button",1),i(),n(4,"ion-title"),l(5),i()()(),n(6,"ion-content")(7,"form",2),U("ngSubmit",function(){return d.submit()}),n(8,"ion-item")(9,"ion-label",3),l(10,"Sport"),i(),n(11,"ion-select",4),E(12,nt,2,2,"ion-select-option",5),i()(),n(13,"ion-item")(14,"ion-label",3),l(15,"Duration (minutes)"),i(),s(16,"ion-input",6),i(),n(17,"ion-item")(18,"ion-label",3),l(19,"Date & time"),i(),s(20,"ion-datetime-button",7),i(),n(21,"ion-modal",8),s(22,"ion-datetime",9),i(),n(23,"ion-item")(24,"ion-label",3),l(25,"Location"),i(),s(26,"ion-input",10),i(),n(27,"ion-item")(28,"ion-label",3),l(29,"Intensity"),i(),n(30,"ion-select",11)(31,"ion-select-option",12),l(32,"Low"),i(),n(33,"ion-select-option",13),l(34,"Moderate"),i(),n(35,"ion-select-option",14),l(36,"High"),i()()(),n(37,"ion-item")(38,"ion-label",3),l(39,"Notes"),i(),s(40,"ion-textarea",15),i(),n(41,"ion-button",16),l(42),i()()()),a&2&&(u(5),C(d.isEdit?"Edit Activity":"Add Activity"),u(2),f("formGroup",d.form),u(5),f("ngForOf",d.sports),u(30),g(" ",d.isEdit?"Save Changes":"Save Activity"," "))},dependencies:[D,w,B,R,T,_,V,M,H,W,$,k,L,q,G,J,P,K,X,z,O,j],encapsulation:2});let t=e;return t})();export{Ut as AddActivityPage};
