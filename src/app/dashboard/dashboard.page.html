<ion-header>
  <ion-toolbar>
    <ion-title>Dashboard</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!-- EMPTY STATE -->
  <ion-card *ngIf="!activities.length">
    <ion-card-content class="empty-state">
      <ion-text> No activities yet. </ion-text>
      <p>Add your first activity to see statistics.</p>
    </ion-card-content>
  </ion-card>

  <!-- KPI SUMMARY -->
  <ion-grid *ngIf="activities.length">
    <ion-row>

      <ion-col size="6">
        <ion-card class="kpi-card primary">
          <ion-card-content>
            <ion-text>Total activities</ion-text>
            <h2>{{ totalActivities }}</h2>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6">
        <ion-card class="kpi-card">
          <ion-card-content>
            <ion-text>Favorites</ion-text>
            <h2>{{ totalFavorites }}</h2>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6">
        <ion-card class="kpi-card">
          <ion-card-content>
            <ion-text>Total time</ion-text>
            <h2>{{ totalHours }} h</h2>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6">
        <ion-card class="kpi-card">
          <ion-card-content>
            <ion-text>Avg / activity</ion-text>
            <h2>{{ averageMinutes }} min</h2>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6">
        <ion-card class="kpi-card">
          <ion-card-content>
            <ion-text color="medium">Most practiced</ion-text>
            <h2>{{ mostPracticedSport }}</h2>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- WEEKLY PROGRESS -->
      <ion-card>
        <ion-card-content>
          <ion-text class="section-title"> Weekly progress </ion-text>

          <div class="weekly-progress">
            <div class="progress-header">
              <span>{{ weeklyMinutes }} min</span>
              <span class="goal">{{ weeklyGoalMinutes }} min goal</span>
            </div>

            <div class="progress-bar">
              <div
                class="progress-fill"
                [style.width.%]="weeklyProgress">
              </div>
            </div>
          </div>
        </ion-card-content>
      </ion-card>

    </ion-row>
  </ion-grid>

  <!-- ACTIVITIES BY SPORT -->
  <ion-card *ngIf="activities.length">
    <ion-card-content>
      <ion-text class="section-title"> Activities by sport </ion-text>

      <div class="chart-wrapper">
        <canvas #sportChart></canvas>
      </div>
    </ion-card-content>
  </ion-card>

</ion-content>
