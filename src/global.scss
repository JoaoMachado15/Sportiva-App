/* ==========================================================================
   IONIC CORE
   ========================================================================== */
@import "@ionic/angular/css/core.css";
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";

/* UTILITIES */
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/float-elements.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

/* DARK MODE (CLASS BASED ONLY) */
@import "@ionic/angular/css/palettes/dark.class.css";

/* ==========================================================================
   RESET
   ========================================================================== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* ==========================================================================
   BASE THEME + IONIC BRIDGE
   ========================================================================== */
html {
  color-scheme: light;
}

body {
  font-family: var(--font-family-base);
  background: var(--color-bg);
  color: var(--color-text);
  margin: 0;

  --ion-background-color: var(--color-bg);
  --ion-text-color: var(--color-text);
  --ion-item-background: var(--color-bg);
  --ion-card-background: var(--color-bg);
  
}

ion-content {
  --background: var(--ion-background-color);
}

/* ==========================================================================
   DARK MODE
   ========================================================================== */
body.dark {
  --color-bg: var(--color-bg-dark);
  --color-text: var(--color-text-dark);
  --color-muted: var(--color-muted-dark);
  --color-border: var(--color-border-dark);

  --ion-background-color: var(--color-bg-dark);
  --ion-text-color: var(--color-text-dark);
  --ion-item-background: #111111;
  --ion-card-background: #111111;
}

/* ==========================================================================
   TYPOGRAPHY
   ========================================================================== */
h1, h2, h3, h4, h5, h6 {
  color: var(--ion-text-color);
  font-weight: 600;
  margin: 0;
}

p {
  color: var(--color-muted);
  margin: 0;
}

/* ==========================================================================
   IONIC COMPONENTS
   ========================================================================== */
ion-toolbar {
  --background: var(--ion-background-color);
  --color: var(--ion-text-color);
  --min-height: var(--toolbar-height);
}

ion-item,
ion-card {
  background: var(--ion-card-background);
  color: var(--ion-text-color);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
}

/* ==========================================================================
   KPI CARDS
   ========================================================================== */
ion-card.kpi-card {
  background: #ffffff;
  color: #ffffff;
  border: none;
}

body.dark ion-card.kpi-card {
  background: #111111;
}

/* ==========================================================================
   BUTTONS
   ========================================================================== */
ion-button {
  --background: var(--color-brand);
  --color: #ffffff;
  height: var(--btn-height);
  font-weight: 600;
  border-radius: var(--radius-lg);
}

/* ==========================================================================
   TABS
   ========================================================================== */
ion-tab-bar {
  --background: var(--ion-background-color);
  border-top: 1px solid var(--color-border);
}

body.dark ion-tab-bar {
  --background: #000000;
}

ion-tab-button {
  --color: var(--color-muted);
  --color-selected: var(--color-brand);
}

/* ==========================================================================
   SEGMENTS (Activities filters)
   ========================================================================== */

ion-segment {
  --background: transparent;
  --color: var(--color-muted);
  --color-checked: var(--color-brand);
  --indicator-color: var(--color-brand);
}

ion-segment-button {
  --color: var(--color-muted);
  --color-checked: var(--color-brand);
  font-weight: 600;
}

/* DARK MODE */
body.dark ion-segment {
  --color: var(--color-muted-dark);
}

body.dark ion-segment-button {
  --color: var(--color-muted-dark);
  --color-checked: var(--color-brand);
}

/* ==========================================================================
   ACTIVITIES LIST
   ========================================================================== */

ion-item-sliding ion-item {
  --min-height: 64px;        /* default é ~72/80 */

}

ion-item-sliding ion-label h2 {
  font-size: 0.95rem;
  font-weight: 600;
  
}




ion-item-sliding ion-label p {
  font-size: 0.75rem;
  color: var(--color-muted);
}

body.dark ion-item-sliding ion-label p {
  color: var(--color-muted-dark);
}

/* Favorite star button */
ion-item-sliding ion-button[slot="start"] {
  --background: transparent;
  --background-hover: transparent;
  --background-activated: transparent;
  --background-focused: transparent;

  padding: 0;
  margin-right: 8px;
  min-width: auto;
}

ion-item-sliding ion-button ion-icon {
  font-size: 20px;
  color: var(--color-brand);
}


/* ==========================================================================
   ALERTS
   ========================================================================== */
ion-alert {
  --background: var(--ion-card-background);
  --color: var(--ion-text-color);
}

body.dark ion-alert {
  --background: #111111;
}

/* ==========================================================================
   ION-DATETIME (MODAL)
   ========================================================================== */
ion-datetime {
  --background: var(--ion-card-background);
  --color: var(--ion-text-color);

  /* Calendar */
  --day-background-selected: var(--color-brand);
  --day-color-selected: #ffffff;
  --day-today-color: var(--color-brand);

  /* Buttons */
  --button-color: var(--color-brand);

  /* Wheel (CRÍTICO) */
  --wheel-background: var(--ion-card-background);
  --wheel-item-color: var(--ion-text-color);
  --wheel-item-color-active: var(--color-brand);

  /* Fade correto */
  --wheel-fade-background-rgb: 17, 17, 17;

  /* Highlight central */
  --wheel-highlight-background: rgba(240, 104, 0, 0.25);
}

ion-datetime-button {
  width: 100%;
}

ion-datetime-button::part(native) {
  width: 100%;
  height: 44px;

  display: flex;
  align-items: center;
  justify-content: flex-start;

  background: var(--ion-card-background);
  color: var(--ion-text-color);

  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);

  padding: 0 14px;
  font-size: 0.9rem;
  margin-top: 10px;
}



/* DARK MODE FORCE */
body.dark ion-datetime {
  --background: #111111;
  --wheel-background: #111111;
  --wheel-item-color: #ffffff;
  --wheel-fade-background-rgb: 17, 17, 17;
}

/* Picker fix */
ion-modal ion-picker {
  --background: #111111;
}

ion-modal ion-picker-column-option {
  color: #ffffff;
}

ion-modal ion-picker-column-option[aria-selected="true"] {
  color: var(--color-brand);
  font-weight: 600;
}

/* Datetime button */
ion-datetime-button::part(native) span {
  display: inline-flex;
  align-items: center;

  background: transparent !important;
  color: var(--ion-text-color);

  font-weight: 500;
}

ion-datetime-button::part(native) span + span::before {
  content: "•";
  margin: 0 8px;
  color: var(--color-muted);
}


body.dark ion-datetime-button::part(native) {
  background: #111111;
  color: #ffffff;
  border-color: var(--color-border-dark);
}

body.dark ion-datetime-button::part(native) span {
  color: #ffffff;
}


/* ==========================================================================
   AUTH PAGES (LOGIN / REGISTER)
   ========================================================================== */

.login-page {
  display: flex;
  justify-content: center;
  align-items: center;

  --padding-top: 0;
  --padding-bottom: 0;
  
}

/* Container central */
.login-container {
  width: 100%;
  max-width: 420px;
  padding: 24px 20px;

  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100dvh;
}

/* Header (título + subtítulo) */
.login-container .header {
  text-align: center;
  margin-bottom: 32px;
}

.login-container .header h1 {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 6px;
}

.login-container .header h2 {
  font-size: 1.75rem;
  font-weight: 500;
  margin-bottom: 6px;
}

.login-container .header p {
  font-size: 0.95rem;
  color: var(--color-muted);
}

/* Form */
.login-container form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Inputs */
.login-container ion-item {
  --background: var(--ion-card-background);
  border-radius: var(--radius-md);
}

/* Ícones dos inputs */
.login-container ion-icon {
  color: var(--color-muted);
}

/* Botão principal */
.login-container ion-button {
  margin-top: 12px;
}

/* Footer */
.login-container .footer {
  margin-top: 28px;
  text-align: center;
}

.login-container .footer p {
  font-size: 0.9rem;
}

.login-container .footer a {
  color: var(--color-brand);
  font-weight: 600;
  cursor: pointer;
}

/* ==========================================================================
   DARK MODE TWEAKS (LOGIN)
   ========================================================================== */

body.dark .login-container ion-item {
  --background: #111111;
}

body.dark .login-container ion-icon {
  color: var(--color-muted-dark);
}
