import{a as A}from"./chunk-PT46B4FM.js";import{b as w,c as j}from"./chunk-6CZ3KT4A.js";import{Aa as y,F as S,Ia as M,X as f,aa as E,fa as I,h,ha as C,i as l,ia as b,j as g,l as p,m as e,ma as k,n as t,oa as x,q as u,w as i,wa as T,x as v,xa as _}from"./chunk-DFIW5OGI.js";import"./chunk-4C747BK3.js";import"./chunk-7KGURMOZ.js";import"./chunk-COTEFVJM.js";import"./chunk-N36FF4D7.js";import"./chunk-TAHSMARZ.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as s}from"./chunk-B7O3QC5Z.js";var z=(()=>{let o=class o{constructor(n,r,a,c,d){this.themeService=n,this.auth=r,this.storage=a,this.navCtrl=c,this.alertCtrl=d,this.darkMode=!1,this.userEmail=""}ionViewWillEnter(){return s(this,null,function*(){this.darkMode=this.themeService.isDarkMode();let n=yield this.auth.getCurrentUser();this.userEmail=n?.email??"\u2014"})}toggleTheme(n){this.themeService.setDarkTheme(n.detail.checked)}logout(){return s(this,null,function*(){yield(yield this.alertCtrl.create({header:"Logout",message:"Tens a certeza que queres terminar sess\xE3o?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Logout",role:"destructive",handler:()=>s(this,null,function*(){yield this.auth.logout(),this.navCtrl.navigateRoot("/login")})}]})).present()})}};o.\u0275fac=function(r){return new(r||o)(l(A),l(j),l(w),l(f),l(y))},o.\u0275cmp=g({type:o,selectors:[["app-settings"]],decls:36,vars:2,consts:[["slot","end",3,"ionChange","checked"],["lines","none"],["expand","block","color","danger",3,"click"]],template:function(r,a){r&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i(3,"Settings"),t()()(),e(4,"ion-content")(5,"ion-list-header")(6,"ion-label"),i(7,"Appearance"),t()(),e(8,"ion-item")(9,"ion-label")(10,"h2"),i(11,"Dark mode"),t(),e(12,"p"),i(13,"Reduce eye strain"),t()(),e(14,"ion-toggle",0),u("ionChange",function(d){return a.toggleTheme(d)}),t()(),e(15,"ion-list-header")(16,"ion-label"),i(17,"Account"),t()(),e(18,"ion-item",1)(19,"ion-label")(20,"h2"),i(21,"Email"),t(),e(22,"p"),i(23),t()()(),e(24,"ion-item",1)(25,"ion-button",2),u("click",function(){return a.logout()}),i(26," Logout "),t()(),e(27,"ion-list-header")(28,"ion-label"),i(29,"App"),t()(),e(30,"ion-item",1)(31,"ion-label")(32,"h2"),i(33,"Version"),t(),e(34,"p"),i(35,"1.0.0"),t()()()()),r&2&&(h(14),p("checked",a.darkMode),h(9),v(a.userEmail))},dependencies:[S,I,C,T,_,b,k,M,E,x],encapsulation:2});let m=o;return m})();export{z as SettingsPage};
