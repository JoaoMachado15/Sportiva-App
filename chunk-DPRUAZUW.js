import{a as L,b as W,c as N,d as V,e as j,f as q,h as z}from"./chunk-T6CVNIJP.js";import{a as H,b as O}from"./chunk-YT5JGGFD.js";import{D as C,F as b,ca as T,da as _,ea as k,fa as P,ga as A,h as n,ha as D,i as x,j as f,k as y,l as m,m as t,n as e,o as v,pa as F,r as S,s as I,t as E,u as M,v as w,va as R,w as i,wa as G,x as p,xa as Q,y as d}from"./chunk-DFIW5OGI.js";import"./chunk-4C747BK3.js";import"./chunk-7KGURMOZ.js";import"./chunk-COTEFVJM.js";import"./chunk-N36FF4D7.js";import"./chunk-TAHSMARZ.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as u,b as g}from"./chunk-B7O3QC5Z.js";var B=["sportChart"];function J(o,r){o&1&&(t(0,"ion-card")(1,"ion-card-content",2)(2,"ion-text"),i(3," No activities yet. "),e(),t(4,"p"),i(5,"Add your first activity to see statistics."),e()()())}function K(o,r){if(o&1&&(t(0,"ion-grid")(1,"ion-row")(2,"ion-col",3)(3,"ion-card",4)(4,"ion-card-content")(5,"ion-text"),i(6,"Total activities"),e(),t(7,"h2"),i(8),e()()()(),t(9,"ion-col",3)(10,"ion-card",5)(11,"ion-card-content")(12,"ion-text"),i(13,"Favorites"),e(),t(14,"h2"),i(15),e()()()(),t(16,"ion-col",3)(17,"ion-card",5)(18,"ion-card-content")(19,"ion-text"),i(20,"Total time"),e(),t(21,"h2"),i(22),e()()()(),t(23,"ion-col",3)(24,"ion-card",5)(25,"ion-card-content")(26,"ion-text"),i(27,"Avg / activity"),e(),t(28,"h2"),i(29),e()()()(),t(30,"ion-col",3)(31,"ion-card",5)(32,"ion-card-content")(33,"ion-text",6),i(34,"Most practiced"),e(),t(35,"h2"),i(36),e()()()(),t(37,"ion-card")(38,"ion-card-content")(39,"ion-text",7),i(40," Weekly progress "),e(),t(41,"div",8)(42,"div",9)(43,"span"),i(44),e(),t(45,"span",10),i(46),e()(),t(47,"div",11),v(48,"div",12),e()()()()()()),o&2){let l=S();n(8),p(l.totalActivities),n(7),p(l.totalFavorites),n(7),d("",l.totalHours," h"),n(7),d("",l.averageMinutes," min"),n(7),p(l.mostPracticedSport),n(8),d("",l.weeklyMinutes," min"),n(2),d("",l.weeklyGoalMinutes," min goal"),n(2),w("width",l.weeklyProgress,"%")}}function U(o,r){o&1&&(t(0,"ion-card")(1,"ion-card-content")(2,"ion-text",7),i(3," Activities by sport "),e(),t(4,"div",13),v(5,"canvas",null,0),e()()())}var ot=(()=>{let r=class r{constructor(a){this.service=a,this.activities=[],this.sportLabels=H.reduce((s,c)=>g(u({},s),{[c.value]:c.label}),{}),this.weeklyGoalMinutes=300}ionViewWillEnter(){this.service.activities.subscribe(a=>{this.activities=a,setTimeout(()=>{this.sportChartRef&&(this.sportChart=z(this.sportChartRef.nativeElement,this.activities,this.sportLabels,this.sportChart))})})}get totalActivities(){return N(this.activities)}get totalFavorites(){return W(this.activities)}get totalMinutes(){return L(this.activities)}get totalHours(){return(this.totalMinutes/60).toFixed(1)}get averageMinutes(){return V(this.activities)}get mostPracticedSport(){let a=j(this.activities);return a?this.sportLabels[a]:"\u2014"}get weeklyMinutes(){return q(this.activities)}get weeklyProgress(){return Math.min(this.weeklyMinutes/this.weeklyGoalMinutes*100,100)}};r.\u0275fac=function(s){return new(s||r)(x(O))},r.\u0275cmp=f({type:r,selectors:[["app-dashboard"]],viewQuery:function(s,c){if(s&1&&I(B,5),s&2){let h;E(h=M())&&(c.sportChartRef=h.first)}},decls:8,vars:3,consts:[["sportChart",""],[4,"ngIf"],[1,"empty-state"],["size","6"],[1,"kpi-card","primary"],[1,"kpi-card"],["color","medium"],[1,"section-title"],[1,"weekly-progress"],[1,"progress-header"],[1,"goal"],[1,"progress-bar"],[1,"progress-fill"],[1,"chart-wrapper"]],template:function(s,c){s&1&&(t(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i(3,"Dashboard"),e()()(),t(4,"ion-content"),y(5,J,6,0,"ion-card",1)(6,K,49,9,"ion-grid",1)(7,U,7,0,"ion-card",1),e()),s&2&&(n(5),m("ngIf",!c.activities.length),n(),m("ngIf",c.activities.length),n(),m("ngIf",c.activities.length))},dependencies:[b,C,P,D,G,Q,T,_,A,F,k,R],encapsulation:2});let o=r;return o})();export{ot as DashboardPage};
