import{c as j}from"./chunk-6CZ3KT4A.js";import{Ba as F,D as C,Ea as L,F as S,P as r,Q as w,R as y,S as I,T as _,U as b,V as E,W as N,X as T,aa as P,fa as R,h as p,i as c,ia as k,j as h,k as v,l as f,m as e,n as i,o as l,q as g,sa as x,w as m}from"./chunk-DFIW5OGI.js";import"./chunk-4C747BK3.js";import"./chunk-7KGURMOZ.js";import"./chunk-COTEFVJM.js";import"./chunk-N36FF4D7.js";import"./chunk-TAHSMARZ.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as u}from"./chunk-B7O3QC5Z.js";function G(a,o){a&1&&l(0,"ion-spinner",14)}function M(a,o){a&1&&(e(0,"span"),m(1,"Create account"),i())}var K=(()=>{let o=class o{constructor(s,n,t,d){this.fb=s,this.auth=n,this.navCtrl=t,this.toastCtrl=d,this.loading=!1,this.form=this.fb.group({name:["",[r.required,r.minLength(2)]],email:["",[r.required,r.email]],password:["",[r.required,r.minLength(6)]],confirmPassword:["",[r.required]]})}submit(){return u(this,null,function*(){if(this.form.invalid)return;let{name:s,email:n,password:t,confirmPassword:d}=this.form.value;if(t!==d){this.showToast("Passwords do not match");return}this.loading=!0;try{yield this.auth.register(s,n,t),this.navCtrl.navigateRoot("/tabs/dashboard")}catch(q){this.showToast(q.message||"Erro ao criar conta")}finally{this.loading=!1}})}goToLogin(){this.navCtrl.navigateBack("/login")}showToast(s){return u(this,null,function*(){yield(yield this.toastCtrl.create({message:s,duration:2500,position:"top",color:"danger"})).present()})}};o.\u0275fac=function(n){return new(n||o)(c(E),c(j),c(T),c(F))},o.\u0275cmp=h({type:o,selectors:[["app-register"]],decls:26,vars:4,consts:[["fullscreen","",1,"ion-padding","login-page"],[1,"login-container"],[1,"header"],[3,"ngSubmit","formGroup"],["fill","outline"],["type","text","placeholder","Name","formControlName","name"],["type","email","placeholder","Email","formControlName","email"],["type","password","placeholder","Password","formControlName","password"],["type","password","placeholder","Confirm password","formControlName","confirmPassword"],["expand","block","type","submit",3,"disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"footer"],[3,"click"],["name","crescent"]],template:function(n,t){n&1&&(e(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1"),m(4,"SPORTIVA"),i(),e(5,"h2"),m(6,"Create account"),i(),e(7,"p"),m(8,"Start tracking your sports activities"),i()(),e(9,"form",3),g("ngSubmit",function(){return t.submit()}),e(10,"ion-item",4),l(11,"ion-input",5),i(),e(12,"ion-item",4),l(13,"ion-input",6),i(),e(14,"ion-item",4),l(15,"ion-input",7),i(),e(16,"ion-item",4),l(17,"ion-input",8),i(),e(18,"ion-button",9),v(19,G,1,0,"ion-spinner",10)(20,M,2,0,"span",11),i()(),e(21,"div",12)(22,"p"),m(23," Already have an account? "),e(24,"a",13),g("click",function(){return t.goToLogin()}),m(25,"Login"),i()()()()()),n&2&&(p(9),f("formGroup",t.form),p(9),f("disabled",t.form.invalid||t.loading),p(),f("ngIf",t.loading),p(),f("ngIf",!t.loading))},dependencies:[S,C,N,I,w,y,_,b,R,k,L,P,x],encapsulation:2});let a=o;return a})();export{K as RegisterPage};
