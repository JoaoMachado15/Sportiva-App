import{c as x}from"./chunk-6CZ3KT4A.js";import{Ba as R,D as S,Ea as j,F as C,P as d,Q as I,R as b,S as y,T as _,U as w,V as T,W as E,X as N,aa as L,fa as k,h as s,i as m,ia as F,j as h,k as v,l as p,m as t,n,o as c,q as g,sa as P,w as l}from"./chunk-DFIW5OGI.js";import"./chunk-4C747BK3.js";import"./chunk-7KGURMOZ.js";import"./chunk-COTEFVJM.js";import"./chunk-N36FF4D7.js";import"./chunk-TAHSMARZ.js";import"./chunk-BUMCRR6Y.js";import"./chunk-DNTR6X5U.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{h as f}from"./chunk-B7O3QC5Z.js";function D(r,o){r&1&&c(0,"ion-spinner",12)}function G(r,o){r&1&&(t(0,"span"),l(1,"Login"),n())}var H=(()=>{let o=class o{constructor(a,i,e,u){this.fb=a,this.auth=i,this.navCtrl=e,this.toastCtrl=u,this.loading=!1,this.form=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}submit(){return f(this,null,function*(){if(this.form.invalid)return;this.loading=!0;let{email:a,password:i}=this.form.value;try{yield this.auth.login(a,i),this.navCtrl.navigateRoot("/tabs/dashboard")}catch(e){this.showToast(e.message||"Erro ao fazer login")}finally{this.loading=!1}})}goToRegister(){this.navCtrl.navigateForward("/register")}showToast(a){return f(this,null,function*(){yield(yield this.toastCtrl.create({message:a,duration:2500,position:"top",color:"danger"})).present()})}};o.\u0275fac=function(i){return new(i||o)(m(T),m(x),m(N),m(R))},o.\u0275cmp=h({type:o,selectors:[["app-login"]],decls:22,vars:4,consts:[["fullscreen","",1,"ion-padding","login-page"],[1,"login-container"],[1,"header"],[3,"ngSubmit","formGroup"],["fill","outline"],["type","email","placeholder","Email","formControlName","email"],["type","password","placeholder","Password","formControlName","password"],["expand","block","type","submit",3,"disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"footer"],[3,"click"],["name","crescent"]],template:function(i,e){i&1&&(t(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"SPORTIVA"),n(),t(5,"h2"),l(6,"Welcome back"),n(),t(7,"p"),l(8,"Login to continue tracking your activities"),n()(),t(9,"form",3),g("ngSubmit",function(){return e.submit()}),t(10,"ion-item",4),c(11,"ion-input",5),n(),t(12,"ion-item",4),c(13,"ion-input",6),n(),t(14,"ion-button",7),v(15,D,1,0,"ion-spinner",8)(16,G,2,0,"span",9),n()(),t(17,"div",10)(18,"p"),l(19," Don\u2019t have an account? "),t(20,"a",11),g("click",function(){return e.goToRegister()}),l(21,"Create one"),n()()()()()),i&2&&(s(9),p("formGroup",e.form),s(5),p("disabled",e.form.invalid||e.loading),s(),p("ngIf",e.loading),s(),p("ngIf",!e.loading))},dependencies:[C,S,E,y,I,b,_,w,k,F,j,L,P],encapsulation:2});let r=o;return r})();export{H as LoginPage};
